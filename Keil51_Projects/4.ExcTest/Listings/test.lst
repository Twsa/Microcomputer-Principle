A51 MACRO ASSEMBLER  TEST                                                                 04/16/2018 19:22:15 PAGE     1


MACRO ASSEMBLER A51 V8.2.5.0
OBJECT MODULE PLACED IN .\Objects\test.obj
ASSEMBLER INVOKED BY: C:\Keil_v5\C51\BIN\A51.EXE User\test.ASM INCDIR(.\User) SET(SMALL) DEBUG PRINT(.\Listings\test.lst
                      ) OBJECT(.\Objects\test.obj) EP

LOC  OBJ            LINE     SOURCE

                       1     ; FileName              :       serial.ASM      

                       2     ; Author                :       Twsa Liu

                       3     ; Date                  :       2018-04-16

                       4     ; Description   :   Serial test

                       5     

                       6     ;ÌâÄ¿£ºÓÃAT89C52RCDµ¥Æ¬»úµÄ´®ÐÐ½Ó¿ÚÀ©Õ¹Ò»¸ö8Î»²¢ÐÐÊä³ö¿Ú£¬½Ó8¸ö·¢¹â¶þ¼«¹Ü£¬

                       7     ;          ±àÐ´·¢ÊÂë¹Ü´Ó0-FµÄ³ÌÐò

                       8     

0000                   9             ORG             0000H

0000 020100           10             LJMP    MAIN

0023                  11             ORG             0023H   ;´®ÐÐÖÐ¶ÏµÄÈë¿ÚµØÖ·

0023 020118           12             LJMP    SINT    ;×ªÏò´®ÐÐ½Ó¿ÚÖÐ¶Ï·þÎñ³ÌÐò

0100                  13             ORG             0100H

                      14                     

0100 7581EF           15     MAIN:   MOV             SP,#0EFH

0103 7480             16                     MOV             A,#80H

0105 75F000           17                     MOV             B,#00H

0108 900140           18                     MOV             DPTR,#LED_Y    ;³õÊ¼»¯Ö¸Õë

010B 759800           19                     MOV             SCON,#00H               ;´®ÐÐ½Ó¿Ú·½Ê½0

010E D2AC             20                     SETB    ES                              ;ÔÊÐí´®ÐÐ½Ó¿ÚÖÐ¶Ï

0110 D2AF             21                     SETB    EA                              ;

0112 D290             22                     SETB    P1.0                    ;CLR=1,´ò¿ª²¢ÐÐÊä³ö¶Ë

0114 F599             23                     MOV             SBUF,A

0116 80FE             24                     SJMP    $

0118 3121             25     SINT:   ACALL   GETSEG

011A 3133             26                     ACALL   DELAY

011C C299             27                     CLR             TI                      ;Çå³·¢ËÍÖÐ¶ÏÎ»

011E F599             28                     MOV             SBUF,A

0120 32               29                     RETI

0121 7F00             30     GETSEG:         MOV             R7,#00H

0123 E5F0             31                             MOV             A,B

0125 93               32                             MOVC    A,@A+DPTR

0126 FF               33                             MOV             R7,A

0127 05F0             34                             INC             B

0129 E5F0             35                             MOV             A,B

012B B40A03           36                             CJNE    A,#10,NEXT

012E 75F000           37                             MOV             B,#0

0131 EF               38     NEXT:           MOV             A,R7            

0132 22               39                             RET

                      40     ;Delay function

0133 7F03             41     DELAY:  MOV     R7,#3

0135 7EC8             42     DEL1:   MOV             R6,#200

0137 7DF8             43     DEL2:   MOV             R5,#248

0139 DDFE             44                     DJNZ    R5,$

013B DEFA             45                     DJNZ    R6,DEL2

013D DFF6             46                     DJNZ    R7,DEL1

013F 22               47                     RET

                      48                     

0140 C0F9A4B0         49     LED_Y:  DB  0C0H,0F9H,0A4H,0B0H,99H,92H,82H,0F8H,80H,90H

0144 999282F8                
0148 8090                    
                      50                     END

                             

A51 MACRO ASSEMBLER  TEST                                                                 04/16/2018 19:22:15 PAGE     2

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

B. . . . . . . . .  D ADDR   00F0H   A   
DEL1 . . . . . . .  C ADDR   0135H   A   
DEL2 . . . . . . .  C ADDR   0137H   A   
DELAY. . . . . . .  C ADDR   0133H   A   
EA . . . . . . . .  B ADDR   00A8H.7 A   
ES . . . . . . . .  B ADDR   00A8H.4 A   
GETSEG . . . . . .  C ADDR   0121H   A   
LED_Y. . . . . . .  C ADDR   0140H   A   
MAIN . . . . . . .  C ADDR   0100H   A   
NEXT . . . . . . .  C ADDR   0131H   A   
P1 . . . . . . . .  D ADDR   0090H   A   
SBUF . . . . . . .  D ADDR   0099H   A   
SCON . . . . . . .  D ADDR   0098H   A   
SINT . . . . . . .  C ADDR   0118H   A   
SP . . . . . . . .  D ADDR   0081H   A   
TI . . . . . . . .  B ADDR   0098H.1 A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
